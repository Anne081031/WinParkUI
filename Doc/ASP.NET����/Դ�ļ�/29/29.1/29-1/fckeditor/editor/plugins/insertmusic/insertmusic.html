<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" > 
<html> 
<head> 
    <title>Insert Music</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
 
    <script src="http://www.cnblogs.com/dialog/common/fck_dialog_common.js" type="text/javascript"></script> 
 
    <script type="text/javascript"> 
 
        var oEditor = window.parent.InnerDialogLoaded() ; 
        var oDOM = oEditor.FCK.EditorDocument ; 
        var oActiveEl = oEditor.FCKSelection.GetSelectedElement() ; 
 
        window.onload = function() 
        { 
            window.parent.SetOkButton( true ) ; 
            window.parent.SetAutoSize( true ) ; 
            SelectField('txtMusicUrl') ; 
        }
         
        function Ok() 
        { 
            var sMusicUrl = document.getElementById('txtMusicUrl').value ; 
            if ( sMusicUrl.length == 0 ) 
            { 
                alert("Music Can't be None") ; 
                return false ; 
            }
            else
            {     
            var sMusicHtml ;
            sMusicHtml = "<object id=\"audioplayer\" type=\"application/x-shockwave-flash\" height=\"24\" width=\"300\""; 
            sMusicHtml = sMusicHtml + "    data=\"/admin/fckeditor/editor/plugins/insertmusic/mp3player.swf\">"; 
            sMusicHtml = sMusicHtml + "    <param value=\"/admin/fckeditor/editor/plugins/insertmusic/mp3player.swf\" name=\"movie\" />"; 
            sMusicHtml = sMusicHtml + "    <param value=\"soundFile=" + sMusicUrl + "\" name=\"FlashVars\" />"; 
            sMusicHtml = sMusicHtml + "    <param value=\"high\" name=\"quality\" />"; 
            sMusicHtml = sMusicHtml + "    <param value=\"false\" name=\"menu\" />"; 
            sMusicHtml = sMusicHtml + "    <param value=\"#FFFFFF\" name=\"bgcolor\" />"; 
            sMusicHtml = sMusicHtml + "</object>";             
            oEditor.FCK.InsertHtml(sMusicHtml); 
            return true ; 
            }
        } 
    </script> 
 
</head> 
<body style="overflow: hidden"> 
    <table width="100%"> 
        <tr> 
            <td align="center"> 
                <table border="0" cellpadding="0" cellspacing="0" width="80%"> 
                    <tr> 
                        <td> 
                            <span>Mp3 URL Here:</span><br /> 
                            <input id="txtMusicUrl" style="width: 360px;" type="text" /> 
                        </td> 
                    </tr> 
                </table> 
            </td> 
        </tr> 
    </table> 
</body> 
</html> 

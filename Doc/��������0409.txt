命令格式:

帧头 + 数据长度 + 命令 + 数据 + 校验和 + 帧尾
 1         2        2     N        1       1 



帧头 + 数据长度 + 命令 + 数据 + 校验和 + 帧尾
AA 0a 00 53 54 80 11 02 03 04 05 06 07 D3 55     //设置时间   'S'+'T'+设置时间  
AA 17 00 53 49 80 C0 A8 01 02 C0 A8 01 01 FF FF FF 00 B5 17 52 54 4c 19 f7 42 7E 55    //设置IP:'S'+'I'--- IP(4)+网关(4)+子网掩码(4)+端口(2)+MAC地址(6)

//中心控制器显示命令   'd'+0x00
AA 0b 00 64 00 80 01 02 03 04 05 06 07 08 88 55     //主控板显示   ‘d'+0x00 + 0x80+显示内容(8)


//中心控制器复位   复位IP地址
AA 03 00 52 00 80 D2 55     'R'+'I' + 地址



AA 03 00 4F 00 33 82 55     //测试开闸    'O'+0x00 +通道地址

AA 03 00 43 00 33 76 55     //测试关闸    'C'+0x00 +通道地址


//发卡机 命令 'M'
AA 03 00 4d 43 33 c3 55     //查询状态     'M'+'C'     正常返回发卡机返回的数据，如果发卡机没反应,返回 'M'+'C'+ Addr+0xff+0xff+0xff
AA 03 00 4d 53 33 D3 55     //发卡         'M'+'S'     如果发卡机没反应,返回 'M'+'S'+ Addr+0xff+0xff+0xff
AA 03 00 4d 47 33 c7 55     //收卡         'M'+'G'     如果发卡机没反应,返回 'M'+'G'+ Addr+0xff+0xff+0xff
AA 03 00 4d 52 33 D2 55     //复位         'M'+'R'     如果发卡机没反应,返回 'M'+'R'+ Addr+0xff+0xff+0xff


//查询状态 'Q'(被动上传)
AA 03 00 51 41 33 c3 55    //查询道闸控制器状态 'Q'+'A'    返回：AA 04 00 51 41 33 00 c3 55    数据道闸控制器状态
AA 03 00 51 42 33 c3 55    //查询票箱地感状态   'Q'+'B'    返回：AA 04 00 52 41 33 00 c3 55    数据 00表示票箱地感没被压，01表示有地感被压
AA 03 00 51 43 33 c3 55    //查询取卡按钮状态   'Q'+'C'    返回：AA 04 00 52 42 33 00 c3 55    数据 00表示取卡按钮没被压，01表示有取卡按钮被压
AA 03 00 51 46 33 c3 55    //查询道闸地感状态   'Q'+'F'    返回：AA 04 00 52 46 33 00 c3 55    数据 00表示道闸地感没被压，01表示有地感被压   



//播音 'P'
AA 05 00 50 00 33 00 00 83 55   //播放 'P'+0x00 + 通道地址+播音地址(2)  播音结束会返回：AA 05 00 50 4f 33 83 55('P'+'O')


//重新发送命令 'R'
AA 05 00 52 00 33 83 55     //重新发送CAN数据


//通道显示
AA 12 00 44 00 33 1A 1B CA D5 B7 D1 A3 B1 A3 B2 D4 AA 09 1C 1D 3c 55    //通道显示   ‘D’+ 0x00 + 通道地址 +显示内容



//握手HandsShake
PC<-->Senter:'H'(48)+'P'(50) 
AA 05 00 48 50 80 00 00 55   //握手‘H'+'P'+Addr(80)+两字节数据备用，暂时定为00，00



//刷卡
AA 06 00 4B 00 33 00 00 00 7E 55    //'K'+0x00 + 地址 + 卡号(3字节，低字节在前)


//地感和取卡按钮(主动上报)
AA 04 00 54 42 33 01 CA 55      //票箱地感检测  'T'+'B'+地址+状态(1)   表示有地感被压
AA 04 00 54 43 33 01 CA 55      //取卡按钮      'T'+'C'+地址+状态(1)   表示取卡按钮状态=ON
AA 04 00 54 46 33 01 CA 55      //道闸地感      'T'+'F'+地址+状态(1)   表示有地感被压

AA 04 00 54 42 33 00 CA 55      //票箱地感检测  'T'+'B'+地址+状态(0)   表示有地感没有车辆
AA 04 00 54 43 33 00 CA 55      //取卡按钮      'T'+'C'+地址+状态(0)   表示取卡按钮状态=OFF
AA 04 00 54 46 33 00 CA 55      //道闸地感      'T'+'F'+地址+状态(0)   表示有地感没有车辆




